# Тестовое задание

# Содержание

1. [Описание задачи](#Описание-задачи)
1. [Реализация](#Реализация)
1. [Endpoints](#Endpoints)
1. [Запуск](#Запуск)

# Описание задачи

Спроектировать и разработать API для получения курсов и конвертации валют.

Добавить:

Курсы валют - возвращать все возможные курсы. В зависимости от запроса возвращать курс валюты на конкретную пару. По умолчанию котируемая валюта KZT, для кросс курсов использовать значения которые указал пользователь. Например курс для USD = 418,58 KZT, кросс курс USD/RUB=73,55 RUB.
Конвертер - конвертер для любой пары валюты.
История курсов - история изменений любой пары валют, в формате {"dd.mm.YYYY": rate}.
Ежедневное обновление курсов cron джобом
Определения:
Базовая валюта - это та валюта в конкретной валютной паре, цена одной единицы которой всегда меряется в единицах другой. В паре USD/KZT USD базовая
Котируемая валюта – это та валюта, в единицах которой выражается цена одной единицы базовой валюты. В паре USD/KZT KZT котируемая
Кросс курс - курс обмена двух валют, ни одна из которых не является. Пример USD/RUB

Ссылки:
Сервис для получения актуальных курсов валют с НБ РК: https://nationalbank.kz/rss/rates_all.xml?switch=kazakh

Решение необходимо завернуть в докер контейнер, и описать инструкцию для запуска.

Выполненное задание, нужно залить в github/bitbucket с публичной доступностью, и отправить мне ссылку.

# Реализация

- Следование дизайну REST API.
- Подход "Чистой Архитектуры" и техника внедрения зависимости.
- Работа с фреймворком [gorilla/mux](https://github.com/gorilla/mux).
- Работа с БД Postgres с использованием библиотеки [gorm](https://github.com/jinzhu/gorm) без написания SQL запросов.
- Запуск из Docker.
- Написана документация роутов.

**Структура проекта:**

```
.
├── models          // основные структуры
├── handlers        // обработчики запросов
├── services        // бизнес-логика
├── utils           // взаимодействие с БД
├── main.go         // точка входа в приложение
└── documentation   // документация роутов и хендлеров
```

# Endpoints

- GET /api/exchange-rate - возвращает все возможные курсы
  - Параметры запроса:
    - base - title валюты от которой нужно осуществить перевод,
    - quote - title валюты в которую нужно осуществить перевод
- GET /api/history - добавление товаров
  - Параметры запроса:
    - base - title валюты от которой нужно осуществить перевод,
    - quote - title валюты в которую нужно осуществить перевод
- POST /api/convert - добавление товаров
  - Тело запроса:
    - convertFrom - title валюты от которой нужно осуществить перевод,
    - amount - сумма над которой нужно осуществить перевод.
    - convertTo - title валюты в которую нужно осуществить перевод,

# Запуск

```
docker build -t server .
docker run -it --rm -p 8000:8000 server
```
